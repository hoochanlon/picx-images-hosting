# 常见问题

## 部署问题

| 问题 | 解决方法 |
|------|---------|
| 页面无法加载 | 检查 Vercel 部署日志 |
| 环境变量不生效 | 重新部署项目 |
| API 请求失败 | 检查 `api-config.json` 中的 `allowedOrigins` |

## 认证问题

| 问题 | 解决方法 |
|------|---------|
| 认证失败 | 检查环境变量是否正确，是否已重新部署 |
| 上传失败 401 | 重新登录，检查认证状态 |
| OAuth 回调失败 | 检查回调 URL 是否与 GitHub OAuth App 配置一致 |

## 配置问题

| 问题 | 解决方法 |
|------|---------|
| 无法上传文件 | 检查 `GH_TOKEN` 是否有 `repo` 权限 |
| CORS 错误 | 检查 `api-config.json` 或 `ALLOWED_ORIGINS` 环境变量 |
| 密码验证失败 | 检查 Vercel 环境变量或 `config.js` 中的密码 |

## API 健康状态问题

| 问题 | 解决方法 |
|------|---------|
| 健康状态显示"异常" | 检查 `GH_TOKEN` 环境变量是否正确配置 |
| GitHub API 连接失败 | 检查网络连接和 GitHub API 状态 |
| 仓库树 API 失败 | 检查仓库权限和分支名称是否正确 |
| 环境配置检查失败 | 确认 `GH_TOKEN` 环境变量已设置并重新部署 |
| 健康检查页面无法访问 | 检查 `/status.html` 文件是否存在，确认部署成功 |

### 健康状态排查步骤

1. **访问健康状态页面**: `/status.html`
2. **查看详细错误信息**: 页面会显示每个检查项的具体错误
3. **检查环境变量**: 确认 Vercel 环境变量中 `GH_TOKEN` 已正确配置
4. **检查 API 响应**: 查看浏览器控制台的网络请求，确认 API 端点可访问
5. **重新部署**: 修改环境变量后需要重新部署才能生效

## 其他问题

### 文件夹创建失败但实际已创建

这是正常的，GitHub API 同步可能有延迟。如果文件夹已存在，操作会成功。

### .gitkeep 文件 404 错误

这是正常的，`.gitkeep` 文件用于保持空目录，首次创建时会返回 404。

### 图片链接无法访问

- 检查 GitHub Pages 是否已启用
- 检查图片路径是否正确
- 使用 CDN 链接（jsdelivr）可能更快

### 健康状态指示器不显示

- 检查 `js/index-health.js` 是否正确加载
- 确认 `API_BASE` 配置正确
- 查看浏览器控制台是否有错误信息

