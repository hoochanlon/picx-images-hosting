# 安全说明

## 当前安全机制

### 1. 前端密码验证
- 删除操作前需要输入密码验证
- 密码验证后24小时内有效，无需重复输入
- 密码存储在 `config.js` 的 `DELETE_PASSWORD` 中

### 2. 后端API保护
- GitHub Token存储在Vercel环境变量中，前端无法直接访问
- 可选：在Vercel环境变量中设置 `API_SECRET`，后端会验证此密钥

## 安全建议

### ⚠️ 重要提示
**当前实现仅提供基础防护，不适合高安全要求的场景。**

### 推荐的安全措施

1. **修改默认密码**
   ```javascript
   // 在 config.js 中修改
   DELETE_PASSWORD: 'your-strong-password-here'
   ```

2. **设置后端API密钥（推荐）**
   - 在Vercel项目设置中添加环境变量：`API_SECRET`
   - 在 `config.js` 中设置相同的值：`API_SECRET: 'your-api-secret'`
   - 这样后端会验证删除请求的合法性

3. **限制CORS域名**
   - 在 `api-config.json` 中只添加信任的域名
   - 不要添加 `*` 或过于宽泛的域名

4. **使用GitHub分支保护**
   - 在GitHub仓库设置中启用分支保护规则
   - 要求Pull Request审核后才能合并到主分支

5. **定期更换密码和密钥**
   - 定期更换 `DELETE_PASSWORD` 和 `API_SECRET`
   - 如果怀疑泄露，立即更换

6. **监控删除操作**
   - 定期检查GitHub仓库的提交历史
   - 如果发现异常删除，立即检查日志

## 更安全的替代方案

如果需要更高的安全性，建议：

1. **使用GitHub OAuth认证**
   - 只有授权用户才能删除
   - 需要后端实现OAuth流程

2. **使用JWT Token**
   - 后端生成JWT token
   - 前端使用token进行认证
   - Token有过期时间

3. **IP白名单**
   - 在Vercel API中限制允许的IP地址
   - 但这对移动设备不友好

4. **二次确认机制**
   - 删除操作需要两次确认
   - 可以添加验证码或邮箱确认

## 当前实现的局限性

1. **前端密码验证**
   - 密码存储在客户端，可以被查看
   - 仅作为基础防护，不能完全阻止恶意用户

2. **后端验证（可选）**
   - 如果设置了 `API_SECRET`，后端会验证
   - 但密钥也存储在客户端，仍可能被获取

3. **无会话管理**
   - 认证状态存储在localStorage
   - 可以被清除或修改

## 总结

当前实现提供了**基础的安全防护**，适合：
- 个人项目
- 低安全要求的场景
- 内部使用的工具

**不适合**：
- 高安全要求的场景
- 公开访问的生产环境
- 需要严格权限控制的系统

建议根据实际需求选择合适的认证方案。

